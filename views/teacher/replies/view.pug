extends ../../includes/layout

block content
    #showContent.modal.fade
        .modal-dialog.modal-lg(role='document')
            .modal-content
                .modal-header
                    h5.modal-title=data.topic.number + '. ' + data.number + '. ' + data.title
                .modal-body
                    pre(style='white-space: pre-wrap;')=data.description[0].description
                .modal-footer
                    button.btn.btn-primary(type='button', data-dismiss='modal') Ok
    script#tmplCommentAjax(type='text/x-jsrender')
        .list-group-item.list-group-item-action.flex-column.align-items-start
            .d-flex.w-100.justify-content-between
                h6.mb-1
                    strong.task-c-author
                        span.task-c-author-studentname {{:name}}
                        | {{if teacher}}
                        span.badge.badge-primary.ml-2
                            i.fa.fa-bolt.fa-lg
                        | {{/if}}
                        span.ml-2=i18n('student.task.wrote')
                small.text-muted.task-c-timestamp.text-nowrap {{:timestamp}}
            p.mb-1.task-c-comment {{:comment}}
            div.text-right.w-100
                | {{if read}}
                small.text-muted.task-c-read
                    span.fa-stack.fa-lg.text-primary
                        i.fa.fa-circle.fa-stack-2x
                        i.fa.fa-check.fa-inverse.fa-stack-1x
                | {{else}}
                small.text-muted.task-c-read
                    span.fa-stack.fa-lg
                        i.fa.fa-circle-thin.fa-stack-2x
                | {{/if}}
    .row
        .hidden-md-down.col-lg-4
            include ../menu
        .col-md-12.col-lg-8

            //-include tasks
            .card
                .card-header.text-center
                    strong Sprawdzanie odpowiedzi do zadań

                .card-block

                    .col-12
                        .row
                            if nextPrev && nextPrev.prevTopicTask
                                .col-2.text-center
                                    a.btn.btn-secondary.next-prev(href='/teacher/replies/view/' + nextPrev.prevTopicTask)
                                        i.fa.fa-arrow-left
                            else
                                .offset-2
                            .col-8
                                h2.text-center=data.topic.number + '. ' + data.topic.title
                            if nextPrev && nextPrev.nextTopicTask
                                .col-2.text-center
                                    a.btn.btn-secondary.next-prev(href='/teacher/replies/view/' + nextPrev.nextTopicTask)
                                        i.fa.fa-arrow-right
                        .row
                            if nextPrev && nextPrev.prevTask
                                .col-2.text-center
                                    a.btn.btn-secondary.next-prev(href='/teacher/replies/view/' + nextPrev.prevTask)
                                        i.fa.fa-arrow-left
                            else
                                .offset-2
                            .col-8
                                h3.text-center=data.number + '. ' + data.title
                            if nextPrev && nextPrev.nextTask
                                .col-2.text-center
                                    a.btn.btn-secondary.next-prev(href='/teacher/replies/view/' + nextPrev.nextTask)
                                        i.fa.fa-arrow-right



                        form(onsubmit='return false;')
                            .form-group
                                .card
                                    table.table.table-striped.table-hover.table-responsive.table-grouplist.wb-initial
                                        thead
                                            tr
                                                th.align-middle
                                                    label.custom-control.custom-checkbox.custom-checkbox-notifications
                                                        input.custom-control-input.checks(name='actions', type='checkbox', id='setAllAsRead')
                                                        span.custom-control-indicator
                                                th.w-100=i18n('breadcrumbs.labgroups')
                                        tbody
                                            each lab in data.labs
                                                tr
                                                    td
                                                        label.custom-control.custom-checkbox.custom-checkbox-notifications
                                                            input.custom-control-input.checks(name='labs', type='checkbox', value=lab.id)
                                                            span.custom-control-indicator
                                                    td
                                                        span= lab.name + ' - ' + lab.owner.fullName()


                            .form-group.text-center
                                input.btn.btn-primary.getLabTasksButton(type='submit' data-id=data.id, value='Załaduj odpowiedzi')
                            .form-group.text-center
                                button.btn.btn-success(data-toggle="modal" data-target="#showContent") Treść zadania
block fluid
    .row.mb-2
        div#labs.col-12
